# Step 1: Project Setup
bash# Clone your project repository (if using git)
git clone https://github.com/your-username/memory-map.git
cd memory-map

# Set up directory structure
mkdir -p data/raw/user_photos
mkdir -p data/raw/public_photos
mkdir -p data/processed/user_photos
mkdir -p data/processed/public_photos
mkdir -p data/metadata

# Set up Python environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
pip install torch torchvision clip exifread geopy pillow tqdm numpy

# Step 2: Data Collection
For User Photos:
bash# Manually copy your personal photos to the raw user photos directory
cp /path/to/your/photos/* data/raw/user_photos/
For Public Photos (Using Pexels Scraper):
bash# Create a scraper script (use the Pexels scraper from previous message)
mkdir -p scripts
# Place the pexels_scraper.py in the scripts directory

# Run the scraper to download public photos
python scripts/pexels_scraper.py "Kuala Lumpur" --output data/raw/public_photos --num 100
python scripts/pexels_scraper.py "Bentong" --output data/raw/public_photos --num 100
Step 3: Data Processing
bash# Place the process_data.py script in the scripts directory

# Run the data processing script
python scripts/process_data.py
This will:

Rename all images sequentially (user_0001.jpg, user_0002.jpg, etc.)
Extract location data using EXIF when available or folder names
Generate keywords/labels using CLIP
Create metadata files for both datasets
Create a SQLite database with all the information

Step 4: Verify Output
bash# Check the processed directories
ls -l data/processed/user_photos/
ls -l data/processed/public_photos/

# Check the metadata files
cat data/metadata/user_metadata.json | head -n 20
cat data/metadata/public_metadata.json | head -n 20

# Check the database
sqlite3 data/metadata/memories.db "SELECT * FROM memories LIMIT 5;"
Step 5: Use the Data in Your Application

Update your backend to use the processed data:

python# In your backend code, update the database path
DB_PATH = 'data/metadata/memories.db'

Update the frontend to display images from the processed directories:

javascript// In your frontend code
const userImagesPath = 'data/processed/user_photos/';
const publicImagesPath = 'data/processed/public_photos/';
5. Data Format Overview
After processing, your data will be structured as follows:
Processed Directories:

data/processed/user_photos/: Contains renamed user photos (user_0001.jpg, user_0002.jpg, etc.)
data/processed/public_photos/: Contains renamed public photos (public_0001.jpg, public_0002.jpg, etc.)

Metadata Files:

data/metadata/user_metadata.json: A JSON file mapping user photo filenames to their metadata
data/metadata/public_metadata.json: A JSON file mapping public photo filenames to their metadata

Example metadata structure:
json{
  "user_0001.jpg": {
    "original_path": "data/raw/user_photos/kuala_lumpur_trip_123.jpg",
    "location": "Kuala Lumpur, Malaysia",
    "date": "2023-05-15",
    "keywords": ["city", "skyline", "building", "modern", "night", "lights", "architecture", "urban", "tower", "sky"],
    "description": "Image taken at Kuala Lumpur, Malaysia. Features: city, skyline, building, modern, night"
  },
  ...
}
SQLite Database:

data/metadata/memories.db: A SQLite database with a memories table containing all metadata

Database schema:
CREATE TABLE memories (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    filename TEXT NOT NULL,
    title TEXT NOT NULL,
    location TEXT NOT NULL,
    date TEXT NOT NULL,
    type TEXT NOT NULL,
    keywords TEXT,
    description TEXT
);
---
memories table
CREATE TABLE IF NOT EXISTS memories (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    filename TEXT NOT NULL,
    title TEXT NOT NULL,
    location TEXT NOT NULL,
    date TEXT NOT NULL,
    type TEXT NOT NULL,
    keywords TEXT,
    description TEXT,
    weight REAL DEFAULT 1.0,
    embedding TEXT
)


---
Logic:
1. Data process: seed_data.py (input json to db) 
- collect public & user image. Create memory-event for each image, "keywords" can use OPEN AI to create
```
json{
  "public_0001.jpg": {
    "original_path": "data\\raw\\public_photos\\Bentong\\pexels_1056251.jpg",
    "location": "Bentong",
    "date": "2025-04-18",
    "keywords": [
      "kitten",
      "sleeping",
      "relaxation",
      "peaceful",
      "cozy",
      "fur",
      "warmth",
      "contentment",
      "wooden surface",
      "soft light",
      "whiskers",
      "domestic animal",
      "comfort",
      "serenity",
      "napping",
      "Bentong (location)"
    ],
    "description": "The image depicts a small tabby kitten peacefully sleeping on a wooden surface. The warm, soft lighting enhances the cozy and serene mood, highlighting the kitten's relaxed posture and soft fur.",
    "weight": 1.2,
    "embedding": [
      -0.07694941759109497,
      -0.24295637011528015,
      -0.0664319396018982,
      -0.21787230670452118,
      0.07823225110769272,
      -0.06611484289169312,
      -0.21055524051189423,
      0.836550235748291,
      -0.14523746073246002,
      -0.18584378063678741,
      0.20541855692863464,
      -0.4250759482383728,
      0.3221999704837799,
      -0.34124627709388733,
      0.021041423082351685,
      0.03545045852661133,
      -0.0974511057138443,
      0.10505016893148422,
      0.4527709484100342,
      0.3910723924636841,
      -0.22541137039661407,
      0.07913239300251007,
      0.42061489820480347,
      0.12445534765720367,
      -0.28112807869911194,
      -0.1723075807094574,
      0.20904526114463806,
      0.30291953682899475,
      -0.24410231411457062,
      0.2533344328403473,
      0.002322465181350708,
      0.14523640275001526,
      -0.1910674273967743,
      0.2690805494785309,
      -0.24736471474170685,
      0.0002485504373908043,
      0.33964741230010986,
      0.15455181896686554,
      0.05621945112943649,
      0.12498197704553604,
      -0.26255518198013306,
      -0.31393128633499146,
      -0.03422055393457413,
      -0.262898713350296,
      -0.24034926295280457,
      0.3848040699958801,
      -0.22167256474494934,
      -0.013500018045306206,
      0.012574426829814911,
      -0.12017764151096344,
      0.48382776975631714,
      0.2010461688041687,
      0.27259406447410583,
      -0.055924829095602036,
      0.02992197871208191,
      0.08225057274103165,
      0.11957313120365143,
      0.3111262917518616,
      -0.5455112457275391,
      -0.3423459529876709,
      0.4260765612125397,
      -0.09019163250923157,
      -0.24113716185092926,
      -0.28037410974502563,
      0.04166918992996216,
      -0.19980362057685852,
      0.005121991038322449,
      0.5519104599952698,
      0.009202931076288223,
      0.11850253492593765,
      0.026344681158661842,
      0.21451698243618011,
      -0.0636373907327652,
      0.16315636038780212,
      -0.019078291952610016,
      -0.12476696819067001,
      0.10973560065031052,
      -0.23588649928569794,
      -0.1804315745830536,
      0.0033376142382621765,
      -0.12215154618024826,
      -0.201903834939003,
      -0.1699470579624176,
      -0.2751288115978241,
      -0.04864756390452385,
      0.262073814868927,
      0.6885658502578735,
      -0.41967082023620605,
      0.18310266733169556,
      0.2657619118690491,
      0.05920223891735077,
      -0.0561637245118618,
      -4.176257610321045,
      0.2969646155834198,
      0.29241660237312317,
      0.11463277041912079,
      0.16513684391975403,
      -0.17741620540618896,
      -0.8478438854217529,
      -0.09224918484687805,
      0.03596990555524826,
      -0.29924476146698,
      -0.19755564630031586,
      0.534558892250061,
      0.45878297090530396,
      -0.10850721597671509,
      0.37753188610076904,
      0.17849543690681458,
      -0.19589142501354218,
      -0.2770862281322479,
      -0.0857197642326355,
      -0.23733869194984436,
      -0.060763880610466,
      0.10604865849018097,
      -0.14100122451782227,
      0.2262275218963623,
      -0.4046001136302948,
      -0.04301651194691658,
      0.3883567154407501,
      -0.1501864194869995,
      0.16539216041564941,
      -0.15313708782196045,
      0.20412221550941467,
      0.03489399701356888,
      -0.04886822775006294,
      -0.5175938606262207,
      -0.27290287613868713,
      0.25245779752731323,
      0.012404515407979488,
      0.16033393144607544,
      -0.056725189089775085,
      -0.08445888757705688,
      -0.412677526473999,
      1.3744373321533203,
      -0.3266009986400604,
      -0.0378614105284214,
      0.11550365388393402,
      0.02347291260957718,
      0.15685297548770905,
      0.23553156852722168,
      0.08801984786987305,
      -0.24672828614711761,
      -0.04994136467576027,
      0.014990493655204773,
      -0.34386345744132996,
      -0.038190968334674835,
      0.18301962316036224,
      -0.43533557653427124,
      0.18327198922634125,
      0.2236630767583847,
      -0.10775357484817505,
      0.23218363523483276,
      -0.4658065736293793,
      -0.18792590498924255,
      -0.07640428841114044,
      -0.039848729968070984,
      -0.06989310681819916,
      -0.4737839102745056,
      -0.031459372490644455,
      -0.1485302448272705,
      0.43110424280166626,
      -0.02992228791117668,
      0.18768659234046936,
      -0.19502317905426025,
      0.17308595776557922,
      -0.2547237277030945,
      -0.13229116797447205,
      0.09747057408094406,
      0.011732526123523712,
      0.28196147084236145,
      0.07967381179332733,
      0.05180129036307335,
      0.04294978082180023,
      0.12208931148052216,
      -0.4543115496635437,
      0.1895390748977661,
      0.32705897092819214,
      0.049477703869342804,
      0.23950371146202087,
      0.1964813470840454,
      -0.15626008808612823,
      0.241923987865448,
      -0.008480101823806763,
      -0.04079795628786087,
      -0.3105791211128235,
      -0.011170439422130585,
      0.017793871462345123,
      -0.10857315361499786,
      -0.045897386968135834,
      0.056510403752326965,
      0.24752138555049896,
      0.1407000720500946,
      -0.20522508025169373,
      -0.2690359055995941,
      -0.1799948513507843,
      -0.2989930808544159,
      -0.04110100865364075,
      -0.2541298270225525,
      -0.8248655200004578,
      -0.5182639956474304,
      0.16616104543209076,
      0.16522419452667236,
      -0.0826038271188736,
      0.28004613518714905,
      0.3367711305618286,
      0.1716020405292511,
      -0.009262893348932266,
      -0.3152361214160919,
      0.2055910974740982,
      0.10813328623771667,
      -0.11870932579040527,
      0.17935000360012054,
      0.08961931616067886,
      0.09653154015541077,
      -0.01836930401623249,
      -0.22116054594516754,
      0.24446487426757812,
      -0.34877893328666687,
      0.9411156177520752,
      -0.26130855083465576,
      0.5311805605888367,
      0.3069688081741333,
      0.11640912294387817,
      -0.01965634897351265,
      0.03414834290742874,
      0.07360808551311493,
      0.49191880226135254,
      -0.04771561175584793,
      0.12260241061449051,
      -0.1834941804409027,
      0.07863566279411316,
      0.04641412943601608,
      -0.014357365667819977,
      0.6042175889015198,
      0.050809308886528015,
      0.14541131258010864,
      0.13186408579349518,
      -0.04282281920313835,
      0.230083629488945,
      -0.01226517278701067,
      0.3902030289173126,
      0.08908727765083313,
      -0.06102033331990242,
      0.11761458218097687,
      0.25127285718917847,
      0.08634290844202042,
      -0.10629839450120926,
      -0.29580172896385193,
      -0.11872970312833786,
      0.031401317566633224,
      0.29863137006759644,
      0.06744508445262909,
      -0.12014243006706238,
      0.05688207596540451,
      0.11125422269105911,
      0.3465130031108856,
      0.11376075446605682,
      0.03386765718460083,
      -0.00016213906928896904,
      -0.1573255956172943,
      0.054106131196022034,
      0.16113212704658508,
      0.2656835615634918,
      0.03656505420804024,
      0.20508022606372833,
      -0.05859135091304779,
      -0.5960115790367126,
      0.10754027217626572,
      -0.11461365222930908,
      -0.21630649268627167,
      -0.01741790771484375,
      -0.037701670080423355,
      0.011464044451713562,
      -0.015466473996639252,
      -0.3454139828681946,
      0.06954418122768402,
      -0.001827433705329895,
      0.09669429063796997,
      -0.26229140162467957,
      -0.053275544196367264,
      0.06280289590358734,
      0.7686038017272949,
      -0.130994975566864,
      -0.19257648289203644,
      0.3316417336463928,
      -0.418872594833374,
      -0.798865795135498,
      0.10224112868309021,
      0.35657384991645813,
      0.16316774487495422,
      -0.2215498983860016,
      -0.02767018787562847,
      0.1226966381072998,
      0.22370511293411255,
      0.020121080800890923,
      -0.13318967819213867,
      -0.26410746574401855,
      -0.01099071279168129,
      0.06842014193534851,
      0.25414830446243286,
      -0.005113618448376656,
      0.25162702798843384,
      -0.3984414339065552,
      0.020434226840734482,
      -0.23069491982460022,
      0.5275300741195679,
      0.03317186236381531,
      0.14133001863956451,
      -0.16404876112937927,
      0.10504400730133057,
      0.11945043504238129,
      0.11709557473659515,
      1.374171257019043,
      -0.1798197627067566,
      -0.10098175704479218,
      0.10928797721862793,
      0.22397886216640472,
      0.4977256655693054,
      -0.21114134788513184,
      -0.4776650071144104,
      0.21873724460601807,
      1.1969553232192993,
      -0.007072843611240387,
      0.23878878355026245,
      0.15377624332904816,
      -0.1866389811038971,
      0.26919129490852356,
      0.17282848060131073,
      0.5685821771621704,
      0.7069803476333618,
      -0.03116372972726822,
      0.12037628889083862,
      -0.02624206244945526,
      -0.34111493825912476,
      0.1782163679599762,
      0.2518429756164551,
      0.3438901901245117,
      -0.08368203043937683,
      -0.009211882948875427,
      -0.1652054488658905,
      -0.20734816789627075,
      -0.22279591858386993,
      0.0616145059466362,
      -0.0020784661173820496,
      -0.19249559938907623,
      -0.5774254202842712,
      0.036625854671001434,
      0.22800791263580322,
      -0.09372121840715408,
      -0.07987669855356216,
      -0.45946550369262695,
      -0.11838634312152863,
      0.29199540615081787,
      -0.4086901843547821,
      -0.20295418798923492,
      -0.29300668835639954,
      0.28046995401382446,
      -0.17201858758926392,
      0.026226133108139038,
      0.21436923742294312,
      -0.46707668900489807,
      -0.30712294578552246,
      0.395386278629303,
      0.5235937833786011,
      0.02340024709701538,
      0.09272751212120056,
      -0.09456919878721237,
      0.13008560240268707,
      -0.03799104690551758,
      0.027594782412052155,
      0.26522302627563477,
      0.5286548733711243,
      -0.0609724260866642,
      -0.2112877368927002,
      -0.19166558980941772,
      -0.20661240816116333,
      0.9862323999404907,
      0.11136801540851593,
      -0.2687210142612457,
      -0.0596780925989151,
      0.033102698624134064,
      -0.4682978093624115,
      -0.551791787147522,
      -0.11990398168563843,
      0.16056036949157715,
      -0.13112062215805054,
      -0.187183678150177,
      -0.11815130710601807,
      0.058372288942337036,
      -0.05343295633792877,
      0.34077948331832886,
      -0.3272111415863037,
      -0.08066915720701218,
      0.44108885526657104,
      -0.04025689512491226,
      0.2946740388870239,
      -0.12415812909603119,
      0.011237308382987976,
      -0.7678578495979309,
      0.2354711890220642,
      -0.12241566181182861,
      0.42267459630966187,
      0.30410003662109375,
      -0.199783593416214,
      -0.13469937443733215,
      -0.0367952436208725,
      -0.11025596410036087,
      -0.22055688500404358,
      0.6372013092041016,
      0.07688021659851074,
      0.5083566904067993,
      0.42026853561401367,
      -0.09256375581026077,
      -0.18835601210594177,
      -0.15687350928783417,
      0.07861924171447754,
      0.06846997141838074,
      0.22202616930007935,
      -0.3305661678314209,
      -0.33353376388549805,
      0.00033747777342796326,
      0.15022191405296326,
      -0.06431512534618378,
      -0.14175307750701904,
      0.4321190118789673,
      0.3574729263782501,
      -0.18874941766262054,
      -0.25444233417510986,
      -0.7485047578811646,
      0.029507264494895935,
      0.33627161383628845,
      0.22546212375164032,
      -0.39573752880096436,
      0.3062245547771454,
      -0.2846357524394989,
      -0.6638152003288269,
      -0.3397258520126343,
      0.7005898952484131,
      0.2890612781047821,
      -0.03610697388648987,
      -0.09996011853218079,
      0.13789694011211395,
      0.3014077842235565,
      0.3255409598350525,
      0.27149200439453125,
      -0.27168378233909607,
      -0.2082333117723465,
      0.17645671963691711,
      0.14867264032363892,
      -0.3576187193393707,
      -0.26456308364868164,
      -0.08153596520423889,
      -0.0008771419525146484,
      0.03197750449180603,
      -0.2892703115940094,
      -0.37666064500808716,
      0.22166460752487183,
      -0.1054801493883133,
      -0.07617247104644775,
      0.5031850337982178,
      0.06714935600757599,
      -0.16412605345249176,
      0.1016322672367096,
      -0.2187524288892746,
      0.2589561343193054,
      0.0633133053779602,
      0.09543012082576752,
      -0.34303295612335205,
      -0.028927870094776154,
      -0.2705766558647156,
      0.10635688900947571,
      -0.10913214087486267,
      -0.21434468030929565,
      -0.04986446350812912,
      -0.4039542078971863,
      -0.230612650513649,
      -0.3879518508911133,
      -0.12262415885925293,
      0.3528386950492859,
      -0.49427515268325806,
      0.0035141296684741974,
      -0.28242769837379456,
      0.10535238683223724,
      0.06089997664093971,
      -0.15587188303470612,
      0.20876236259937286,
      -0.28919801115989685,
      -0.24360185861587524,
      -0.08984383195638657,
      -0.02941521257162094,
      0.5316134095191956,
      -0.07629244029521942,
      0.1586873084306717,
      0.06629087030887604,
      0.19913263618946075,
      0.024593638256192207,
      0.18061959743499756,
      0.006180763244628906,
      -0.028363283723592758,
      -0.0641992837190628,
      0.02731601893901825,
      0.22019927203655243,
      0.11152443289756775,
      -0.19878539443016052,
      0.4548802971839905,
      0.08632047474384308,
      -0.06756356358528137,
      0.1671994924545288,
      0.2843361496925354,
      0.13582170009613037,
      -0.34506574273109436,
      -0.0295165553689003
    ]
  ...
  }
}
```

2. Recommendation system: get_memories.py(by query, check the closest set of memory and sort)
- when user search a certain keywords, recommendation sysatm proposed a list of memory-event sort by the matching/related score of the event and the keywords (more and closer the best)
- present them at the MemoryList
- user can click the event to make the certain weight of the event higher
- the keyword in the event's keyword will be hightlight

3. Synthetic memory: synthetic_memory.py
- according to the weight of the memory event list,
- synthetic memory engine will take the first x event that sum more that certain number (we can set it 3.0 first), stack it and put into open ai, ask open ai to according the timeline and importancy of the events, mimick human writing diary, write a few sentence to describ it,
- show the synthetic memory in the generated ouptu text area, bold and red color font for the keywords dirext realted to the original event and black for the orgers

